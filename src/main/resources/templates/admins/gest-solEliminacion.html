<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/layout :: layout('Solicitud de Eliminación', ~{::link}, ~{::section})}">
<head>
    <link rel="stylesheet" th:href="@{/css/styles-commons.css}">
    <link rel="stylesheet" th:href="@{/css/estilos-admin/styles-gest-solEliminacion.css}">
</head>
<body class="body-metamapa">
    <!-- Main -->
    <section class="mm-card mx-auto" style="max-width: 920px;">
        <h1 class="mm-form-title mb-2 text-center" style="padding-top: 60px">Solicitudes de eliminación</h1>
        <p class="mm-form-sub text-center mb-4">Revisá, aprobá o rechazá las solicitudes pendientes</p>

        <!-- Toolbar de filtros -->
        <div class="mm-toolbar mb-3">
            <div class="mm-seg" role="tablist" aria-label="Filtrar por estado">
                <button class="mm-seg__btn is-active" data-filter="TODAS" role="tab" aria-selected="true">
                    Todas <span class="mm-seg__badge" id="count-todas">0</span>
                </button>
                <button class="mm-seg__btn" data-filter="PENDIENTE" role="tab" aria-selected="false">
                    Pendientes <span class="mm-seg__badge" id="count-pend">0</span>
                </button>
                <button class="mm-seg__btn" data-filter="APROBADA" role="tab" aria-selected="false">
                    Aprobadas <span class="mm-seg__badge" id="count-apr">0</span>
                </button>
                <button class="mm-seg__btn" data-filter="RECHAZADA" role="tab" aria-selected="false">
                    Rechazadas <span class="mm-seg__badge" id="count-rech">0</span>
                </button>
            </div>

            <div class="mm-search">
                <input id="searchBox" class="mm-input" placeholder="Buscar por título o justificación…">
            </div>
        </div>

        <!-- Lista de solicitudes -->
        <ul class="mm-requests list-unstyled m-0"></ul>
    </section>

    <script type="module" th:src="@{/js/admins/gest-solEliminacion.js}"></script>

    <!-- Script para quitar item si se aprueba/rechaza -->
    <script>
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.mm-btn--approve, .mm-btn--reject');
            if (!btn) return;
            const li = btn.closest('.mm-req');
            li.style.transition = 'opacity .25s, transform .25s';
            li.style.opacity = '0'; li.style.transform = 'translateY(-4px)';
            setTimeout(() => li.remove(), 250);
        });
    </script>
</body>
</html>